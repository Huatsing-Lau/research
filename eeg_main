# System
import requests
import re
import os
import pathlib
import urllib

# Modeling & Preprocessing
import keras.layers as layers
from keras.models import Sequential, model_from_json
from sklearn.preprocessing import OneHotEncoder, StandardScaler
from keras import initializers, optimizers

# Essential Data Handling
import numpy as np
import pandas as pd

# Get Paths
from glob import glob

# EEG package
from mne import pick_types
from mne.io import read_raw_edf

# Modules
import eeg_import, eeg_preprocessing

#%%

# Get file paths
PATH = '/Users/jimmy/data/PhysioNet/'
SUBS = glob(PATH + 'S[0-9]*')
FNAMES = sorted([x[-4:] for x in SUBS])

# Remove subject #89 with damaged data
FNAMES.remove('S089')

#%%

X,y = get_data(FNAMES, epoch_sec=0.0625)

print(X.shape)
print(y.shape)

#%%

X_train, y_train, X_test, y_test = prepare_data(X, y)

# Check out the shape of the mesh
np.set_printoptions(precision=2, linewidth=100)
X_train[1][0]
#%%